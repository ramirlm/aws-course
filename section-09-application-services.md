# Section 9 - Application Services 

## 86. SQS
- Simple Queue Service
- Distributed message queue system
- Can be used to store messages generated by one component while awaiting processing by another component
- Max message size is 256kb
- Messages can be kept in queue from 1 minute to 14 days, by default 4 days
- Pull based: processing component will pull messages from the queue
- Visibility timeout: max 12h, by default 30s

#### Queueing
- One component pushes message to SQS
- Other component polls SQS
    - Pulls message from the queue
    - Message remains in the queue but marked invisible 
    - When completed processing the message is deleted from the queue
    - When processing fails or takes longer than the visibility timeout the message will become visible again

#### Types
###### Standard queues
- Default
- Nearly unlimited number of transactions 
- At least once delivery
- Messages mostly delivered in order, but not guaranteed
 
###### FIFO queues
- Limited to 300 transactions per second
- Exactly once delivery
- Messages delivered in order

#### Long Polling
- By default short polling is used, returns immediately even when queue is empty
- Long polling will only return a response when a message is available or polling timeout is reached
- Saves money by avoiding polling all the time


## 87. SWF
- Simple Workflow Service
- Coordinate a task (e.g. order of an item) across distributed application components triggered by workflow starter
- SWF manages interactions between workers and deciders in order to complete the task
- SWF stores tasks, assigns them to workers and ensures task is **never duplicated**
- SWF maintains state durably so workers and deciders don't have to keep it
- Task can max take 1 year

## Worker
- Can run on EC2, ...
- Programs which interact with SWF
    - Get tasks
    - Process received tasks
    - Return result
    
## Decider
- Can run on EC2, ...
- Program which controls coordination of tasks
    - Ordering
    - Scheduling
    - ...
    
    
## 88. SNS
- Simple Notification Service
- Push based
- Push messages from an application to an SNS topic and immediately deliver them to subscribers
- Messages stored redundantly across multiple AZs

#### Subsciber Types
- Push notifications
- SMS
- Email
- SQS
- HTTP endpoint
- Lambda


## 89. Elastic Transcoder
- Convert media files from original format into different output formats
- Transcoding presets help you with transcoding settings for each device
- Pay per minute transcoding takes and per output quality


## 90. API Gateway
- Publish, maintain, monitor and secure API to backend services such as EC2, lambda, ...
- Caching: API gateway caches responses for a TTL and responds to requests by looking up a cached response first
- Scales automatically
- Throttling to prevent attacks 
- CORS: Cross-Origin Resource Sharing


## 91. Kinesis 101
- Streaming data is data which is generated continuously by thousand of sources
- Kinesis can be used to send streaming data to and then load and analyze this data

#### Services
###### Streams
- Data producers sent data to Kinesis streams
- Data is stored in shards
- Data is stored by default for 24h, but can be saved up to 7 days
- Data consumers (e.g. EC2, lambda) process the data and can store processed info anywhere
- Capacity of the stream is the sum of the capacities of the shards

###### Firehose
- Data producers sent data to Kinesis firehose
- No shards, no need to add shards to increase capacity, completely automated
- Data is then optionally analyzed using a lambda
- After optionally analyzing the data is stored on S3, ...

###### Analytics
- Allows you to run SQL queries on data available in streams or firehose
- Store results on S3, ...


## 92. Kinesis - Lab
- Example of Kinesis streams


## 93. Application Services Summary
- Check this document